<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Wiki for everything about BulletBot, a general purpose Discord bot"><link rel="shortcut icon" href=../../../media/BulletBot.svg><meta name=generator content="mkdocs-1.1.2, mkdocs-material-6.2.4"><title>Linux - BulletBot</title><link rel=stylesheet href=../../../assets/stylesheets/main.15aa0b43.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.75751829.min.css><meta name=theme-color content=#2094f3><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=blue data-md-color-accent=blue> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#linux-production-setup-guide class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <style>
.md-header {
  position: sticky;
  top: 0;
  right: 0;
  left: 0;
  z-index: 2;
  height: px2rem(48px);
  color: var(--md-primary-bg-color);
  background: linear-gradient(180deg, rgba(2,0,36,1) 0%, rgba(32,148,243,1) 200%);
  box-shadow:
    0 0           px2rem(4px) rgba(0, 0, 0, 0),
    0 px2rem(4px) px2rem(8px) rgba(0, 0, 0, 0);
  transition:
    color            250ms,
    background-color 250ms;

  .no-js & {
    box-shadow: none;
    transition: none;
  }

  &[data-md-state="shadow"] {
    box-shadow:
      0 0           px2rem(4px) rgba(0, 0, 0, 0.1),
      0 px2rem(4px) px2rem(8px) rgba(0, 0, 0, 0.2);
    transition:
      color            250ms,
      background-color 250ms,
      box-shadow       250ms;
  }

  @media print {
    display: none;
  }
}
</style> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=../../.. title=BulletBot class="md-header-nav__button md-logo" aria-label=BulletBot> <img src=../../../media/BulletBot.svg alt=logo> </a> <!-- Button to open drawer --> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <!-- Header title --> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> BulletBot </span> <span class="md-header-nav__topic md-ellipsis"> Linux </span> </div> </div> <!-- Button to open search dialogue --> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <!-- Search interface --> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <!-- Repository containing source --> <div class=md-header-nav__source> <a href=https://github.com/CodeBullet-Community/BulletBot/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title=BulletBot class="md-nav__button md-logo" aria-label=BulletBot> <img src=../../../media/BulletBot.svg alt=logo> </a> BulletBot </label> <div class=md-nav__source> <a href=https://github.com/CodeBullet-Community/BulletBot/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1 type=checkbox id=nav-1> <label class=md-nav__link for=nav-1> Home <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Home data-md-level=1> <label class=md-nav__title for=nav-1> <span class="md-nav__icon md-icon"></span> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> Introduction </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-2 type=checkbox id=nav-1-2> <label class=md-nav__link for=nav-1-2> Commands <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Commands data-md-level=2> <label class=md-nav__title for=nav-1-2> <span class="md-nav__icon md-icon"></span> Commands </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Commands/Commands-Readme/ class=md-nav__link> Readme </a> </li> <li class=md-nav__item> <a href=../../../Commands/Commands/ class=md-nav__link> Commands List </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../In-Depth-Explanations/ class=md-nav__link> In Depth Explanations </a> </li> <li class=md-nav__item> <a href=../../../License/ class=md-nav__link> License </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2 type=checkbox id=nav-2 checked> <label class=md-nav__link for=nav-2> Setup Guides <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Setup Guides" data-md-level=1> <label class=md-nav__title for=nav-2> <span class="md-nav__icon md-icon"></span> Setup Guides </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-1 type=checkbox id=nav-2-1 checked> <label class=md-nav__link for=nav-2-1> Production <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Production data-md-level=2> <label class=md-nav__title for=nav-2-1> <span class="md-nav__icon md-icon"></span> Production </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Linux <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Linux </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#officially-supported-linux-distributions class=md-nav__link> Officially Supported Linux Distributions </a> <nav class=md-nav aria-label="Officially Supported Linux Distributions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#versions-of-mongodb-and-nodejs-installed class=md-nav__link> Versions of MongoDB and Node.js Installed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#getting-started class=md-nav__link> Getting Started </a> <nav class=md-nav aria-label="Getting Started"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#running-the-master-installer-for-the-first-time class=md-nav__link> Running the Master Installer for the First Time </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#setting-up-and-installing-prerequisites class=md-nav__link> Setting Up and Installing Prerequisites </a> <nav class=md-nav aria-label="Setting Up and Installing Prerequisites"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#2-install-mongodb class=md-nav__link> 2. Install MongoDB </a> </li> <li class=md-nav__item> <a href=#3-install-nodejs-will-also-perform-the-actions-of-option-4 class=md-nav__link> 3. Install Node.js (will also perform the actions of option 4) </a> </li> <li class=md-nav__item> <a href=#4-install-required-packages-and-dependencies class=md-nav__link> 4. Install required packages and dependencies </a> </li> <li class=md-nav__item> <a href=#5-set-up-bulletbot-config-file class=md-nav__link> 5. Set up BulletBot config file </a> <nav class=md-nav aria-label="5. Set up BulletBot config file"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#51-setting-up-bot-configjson-without-mongodb-authentication class=md-nav__link> 5.1. Setting Up bot-config.json WITHOUT MongoDB Authentication </a> </li> <li class=md-nav__item> <a href=#52-setting-up-bot-configjson-with-mongodb-authentication class=md-nav__link> 5.2. Setting Up bot-config.json WITH MongoDB Authentication </a> </li> <li class=md-nav__item> <a href=#53-webhooks class=md-nav__link> 5.3 Webhooks </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#setting-up-mongodb class=md-nav__link> Setting Up MongoDB </a> <nav class=md-nav aria-label="Setting Up MongoDB"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#changing-mongodbs-default-port class=md-nav__link> Changing MongoDB's Default Port </a> </li> <li class=md-nav__item> <a href=#adding-the-mongodb-settings-document class=md-nav__link> Adding the MongoDB Settings Document </a> </li> <li class=md-nav__item> <a href=#adding-authentication class=md-nav__link> Adding Authentication </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#running-bulletbot class=md-nav__link> Running BulletBot </a> <nav class=md-nav aria-label="Running BulletBot"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#run-modes class=md-nav__link> Run Modes </a> </li> <li class=md-nav__item> <a href=#checking-bulletbot-run-status class=md-nav__link> Checking BulletBot Run Status </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#updating-bulletbot class=md-nav__link> Updating BulletBot </a> </li> <li class=md-nav__item> <a href=#other-information class=md-nav__link> Other Information </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-2 type=checkbox id=nav-2-2> <label class=md-nav__link for=nav-2-2> Development <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Development data-md-level=2> <label class=md-nav__title for=nav-2-2> <span class="md-nav__icon md-icon"></span> Development </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Development/Linux-Dev-Setup-Guide/ class=md-nav__link> Linux </a> </li> <li class=md-nav__item> <a href=../../Development/Windows-Dev-Setup-Guide/ class=md-nav__link> Windows </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-3 type=checkbox id=nav-2-3> <label class=md-nav__link for=nav-2-3> Helpful Guides <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Helpful Guides" data-md-level=2> <label class=md-nav__title for=nav-2-3> <span class="md-nav__icon md-icon"></span> Helpful Guides </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Helpful-Guides/Creating-%26-Inviting-A-Bot/ class=md-nav__link> Create A Bot </a> </li> <li class=md-nav__item> <a href=../../../Helpful-Guides/Creating-%26-Inviting-A-Bot/ class=md-nav__link> Invite A Bot </a> </li> <li class=md-nav__item> <a href=../../../Helpful-Guides/Bot-Token/ class=md-nav__link> Bot Token </a> </li> <li class=md-nav__item> <a href=../../../Helpful-Guides/Google-API-Setup/ class=md-nav__link> Google API Key </a> </li> <li class=md-nav__item> <a href=../../../Helpful-Guides/MongoDB-Compass/ class=md-nav__link> MongoDB Compass </a> </li> <li class=md-nav__item> <a href=../../../Helpful-Guides/BulletBot-Startup-Status-Reports/ class=md-nav__link> BSSR </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3 type=checkbox id=nav-3> <label class=md-nav__link for=nav-3> Development <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Development data-md-level=1> <label class=md-nav__title for=nav-3> <span class="md-nav__icon md-icon"></span> Development </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../dev-documentation/ class=md-nav__link> Readme </a> </li> <li class=md-nav__item> <a href=../../../dev-documentation/structure/ class=md-nav__link> Structure </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-3 type=checkbox id=nav-3-3> <label class=md-nav__link for=nav-3-3> Database <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Database data-md-level=2> <label class=md-nav__title for=nav-3-3> <span class="md-nav__icon md-icon"></span> Database </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../dev-documentation/database/main/ class=md-nav__link> main </a> </li> <li class=md-nav__item> <a href=../../../dev-documentation/database/mStats/ class=md-nav__link> mStats </a> </li> <li class=md-nav__item> <a href=../../../dev-documentation/database/settings/ class=md-nav__link> settings </a> </li> <li class=md-nav__item> <a href=../../../dev-documentation/database/webhooks/ class=md-nav__link> webhooks </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#officially-supported-linux-distributions class=md-nav__link> Officially Supported Linux Distributions </a> <nav class=md-nav aria-label="Officially Supported Linux Distributions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#versions-of-mongodb-and-nodejs-installed class=md-nav__link> Versions of MongoDB and Node.js Installed </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#getting-started class=md-nav__link> Getting Started </a> <nav class=md-nav aria-label="Getting Started"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#running-the-master-installer-for-the-first-time class=md-nav__link> Running the Master Installer for the First Time </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#setting-up-and-installing-prerequisites class=md-nav__link> Setting Up and Installing Prerequisites </a> <nav class=md-nav aria-label="Setting Up and Installing Prerequisites"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#2-install-mongodb class=md-nav__link> 2. Install MongoDB </a> </li> <li class=md-nav__item> <a href=#3-install-nodejs-will-also-perform-the-actions-of-option-4 class=md-nav__link> 3. Install Node.js (will also perform the actions of option 4) </a> </li> <li class=md-nav__item> <a href=#4-install-required-packages-and-dependencies class=md-nav__link> 4. Install required packages and dependencies </a> </li> <li class=md-nav__item> <a href=#5-set-up-bulletbot-config-file class=md-nav__link> 5. Set up BulletBot config file </a> <nav class=md-nav aria-label="5. Set up BulletBot config file"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#51-setting-up-bot-configjson-without-mongodb-authentication class=md-nav__link> 5.1. Setting Up bot-config.json WITHOUT MongoDB Authentication </a> </li> <li class=md-nav__item> <a href=#52-setting-up-bot-configjson-with-mongodb-authentication class=md-nav__link> 5.2. Setting Up bot-config.json WITH MongoDB Authentication </a> </li> <li class=md-nav__item> <a href=#53-webhooks class=md-nav__link> 5.3 Webhooks </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#setting-up-mongodb class=md-nav__link> Setting Up MongoDB </a> <nav class=md-nav aria-label="Setting Up MongoDB"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#changing-mongodbs-default-port class=md-nav__link> Changing MongoDB's Default Port </a> </li> <li class=md-nav__item> <a href=#adding-the-mongodb-settings-document class=md-nav__link> Adding the MongoDB Settings Document </a> </li> <li class=md-nav__item> <a href=#adding-authentication class=md-nav__link> Adding Authentication </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#running-bulletbot class=md-nav__link> Running BulletBot </a> <nav class=md-nav aria-label="Running BulletBot"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#run-modes class=md-nav__link> Run Modes </a> </li> <li class=md-nav__item> <a href=#checking-bulletbot-run-status class=md-nav__link> Checking BulletBot Run Status </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#updating-bulletbot class=md-nav__link> Updating BulletBot </a> </li> <li class=md-nav__item> <a href=#other-information class=md-nav__link> Other Information </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/CodeBullet-Community/BulletBot/edit/master/docs/Setup-Guides/Production/Linux-Prod-Setup-Guide.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1 id=linux-production-setup-guide>Linux Production Setup Guide<a class=headerlink href=#linux-production-setup-guide title="Permanent link">&para;</a></h1> <p>This setup guide will instruct and explain the process in which BulletBot is set up on a Linux based distribution. The majority of the setup is taken care of by the installers, which will automate the installation and set up of the prerequisites. That said, there is a small portion of this guide that requires manual set up.</p> <p>If you are doing dev work on BulletBot or just want to set him up manually, please follow the <a href=../../../Setup-Guides/Development/Linux-Dev-Setup-Guide/ >Linux Dev Setup Guide</a>.</p> <h2 id=officially-supported-linux-distributions>Officially Supported Linux Distributions<a class=headerlink href=#officially-supported-linux-distributions title="Permanent link">&para;</a></h2> <p>Below is a list of Linux Distributions that BulletBot is officially supported on.</p> <table> <thead> <tr> <th>Distributions</th> <th>Distro Versions</th> <th>Architecture</th> </tr> </thead> <tbody> <tr> <td>Ubuntu</td> <td>16.04<br>18.04</td> <td>64 bit<br>- (ARM64 not supported)</td> </tr> <tr> <td>Debian</td> <td>9<br>10</td> <td>64 bit</td> </tr> <tr> <td>RHEL</td> <td>7<br>8</td> <td>64 bit</td> </tr> <tr> <td>CentOS</td> <td>7<br>8</td> <td>64 bit</td> </tr> </tbody> </table> <h3 id=versions-of-mongodb-and-nodejs-installed>Versions of MongoDB and Node.js Installed<a class=headerlink href=#versions-of-mongodb-and-nodejs-installed title="Permanent link">&para;</a></h3> <p>These are the versions of MongoDB and Node.js that are installed via the installers:</p> <ul> <li>MongoDB: Version 4.2.x</li> <li>Node.js: Version 14.x</li> </ul> <h2 id=getting-started>Getting Started<a class=headerlink href=#getting-started title="Permanent link">&para;</a></h2> <p>To start the setup process, first download the master installer: <code>cd ~/ &amp;&amp; wget -N https://raw.githubusercontent.com/CodeBullet-Community/BulletBot/release/linux-master-installer.sh &amp;&amp; sudo chmod +x linux-master-installer.sh</code></p> <p>Execute the master installer using <code>sudo bash linux-master-installer.sh</code>, then download BulletBot via option <code>1</code> in the installer menu.</p> <h3 id=running-the-master-installer-for-the-first-time>Running the Master Installer for the First Time<a class=headerlink href=#running-the-master-installer-for-the-first-time title="Permanent link">&para;</a></h3> <p>When running the master installer for the first time, a system user called <code>bulletbot</code> will be created (see <a href=../../../In-Depth-Explanations/#bulletbot-system-user>the In-Depth Explanations wiki</a> for more info). All code used by/for BulletBot will then be moved into <code>/home/bulletbot</code>.</p> <p><img alt="System User Creation" src=../../../media/Creating-System-User.png></p> <h2 id=setting-up-and-installing-prerequisites>Setting Up and Installing Prerequisites<a class=headerlink href=#setting-up-and-installing-prerequisites title="Permanent link">&para;</a></h2> <p>The installers automatically detect whether or not the prerequisites have been installed or set up. If it detects that some or all have not been installed/set up, you'll be prompt a menu that looks similar to the one below:</p> <p><img alt="Installer Menu Prerequisites" src=../../../media/Installer-Menu-Prerequisites.png></p> <p>The menu will indicate whether or not a particular prerequisite is installed/set up. To install a missing prerequisite, enter the number corresponding to that option.</p> <p>Below, you will find information on what each option (excluding options 1 and 6) does and any additional or essential information associated with the option in question.</p> <h3 id=2-install-mongodb>2. Install MongoDB<a class=headerlink href=#2-install-mongodb title="Permanent link">&para;</a></h3> <p>Option 2 installs, enables, and start MongoDB.</p> <p>It is important to know that it does <strong>NOT</strong> set up the <a href=#adding-the-mongodb-settings-document>MongoDB settings document</a>. The settings document can be added to the database after all the other prerequisites have been installed/set up but must be taken care of before running BulletBot.</p> <h3 id=3-install-nodejs-will-also-perform-the-actions-of-option-4>3. Install Node.js (will also perform the actions of option 4)<a class=headerlink href=#3-install-nodejs-will-also-perform-the-actions-of-option-4 title="Permanent link">&para;</a></h3> <p>Option 3 installs Node.js, node, and npm.</p> <p>As you might have read in the description of this option, it will also install the required packages and dependencies that would otherwise be installed via option 4.</p> <h3 id=4-install-required-packages-and-dependencies>4. Install required packages and dependencies<a class=headerlink href=#4-install-required-packages-and-dependencies title="Permanent link">&para;</a></h3> <p>Option 4 installs the required packages and dependencies in a folder called <code>node_modules</code> in <code>/home/bulletbot</code>.</p> <p>Because option 3 already takes care of this, it is unlikely that you'll need to use this option, but is provided as a failsafe, just in case something happens to the packages and dependencies.</p> <h3 id=5-set-up-bulletbot-config-file>5. Set up BulletBot config file<a class=headerlink href=#5-set-up-bulletbot-config-file title="Permanent link">&para;</a></h3> <p>Option 5 requires you to enter information such as the bot key, MongoDB URL, and so on. This information will be placed into BulletBot's configuration file (<code>bot-config.json</code>).</p> <p>First and foremost, if you haven't already <a href=../../../Helpful-Guides/Creating-%26-Inviting-A-Bot/#creating-and-inviting-a-discord-application>created an application/bot</a>, do so now. You'll need the bot key that is generated when setting up BulletBot's config file. Once you have done this, you can continue and set up the config file.</p> <h4 id=51-setting-up-bot-configjson-without-mongodb-authentication>5.1. Setting Up bot-config.json WITHOUT MongoDB Authentication<a class=headerlink href=#51-setting-up-bot-configjson-without-mongodb-authentication title="Permanent link">&para;</a></h4> <p>If you prefer to set BulletBot up WITHOUT MongoDB Authentication (which is not recommended), configurations for the config file are rather straight forward.</p> <ol> <li><code>Enter bot token:</code><ul> <li>The bot token should look similar to: <code>1h90B4mpNDU5Mzg24jsmNTQ0.X1m.pJ-Rrgz-1OY-3iIdaynmLiGwqErAoIc</code>.</li> <li>For help on finding and coping the bot token for your application, follow <a href=../../../Helpful-Guides/Bot-Token>this guide</a>.</li> </ul> </li> <li><code>Enter the MongoDB URL (i.e. mongodb://localhost:[port]):</code><ul> <li>If you don't plan on doing anything fancy with MongoDB (i.e., replication, etc.), you can leave this field blank, and the default MongoDB URL (<code>mongodb://localhost:27017</code>) will automatically be used.</li> <li>Though if you plan to do some advanced things with MongoDB, use <a href=https://docs.mongodb.com/manual/reference/connection-string/ >this link</a> to help you properly configure the URL.</li> </ul> </li> <li><code>Enter the MongoDB URL suffix (i.e. ?authSource=admin):</code><ul> <li>Similar to field 2, unless you are doing some fancy stuff with MongoDB, you can leave this field blank.</li> </ul> </li> <li><code>Enter the Google API Key:</code><ul> <li>The Google API Key should look similar to: <code>PaTZgFgtywVH6FFq8A5W3gSvT5f15SObwZj29Ia0</code></li> <li>For help on creating a Google API Key, follow the instructions in <a href=../../../Helpful-Guides/Google-API-Setup>this guide</a>.</li> <li>Note that if you leave this field empty, you will not be able to use any services and commands that rely on Google services (i.e., webhooks).</li> </ul> </li> </ol> <p>Here is an example of what it might look like: <img alt="BulletBOt Config File Setup" src=../../../media/BulletBot-Config-Setup.png></p> <h4 id=52-setting-up-bot-configjson-with-mongodb-authentication>5.2. Setting Up bot-config.json WITH MongoDB Authentication<a class=headerlink href=#52-setting-up-bot-configjson-with-mongodb-authentication title="Permanent link">&para;</a></h4> <p>If you want to use <a href=#adding-authentication>authentication</a> in combination with MongoDB (which is highly recommended), the configurations for the config file will be a little different compared to if you were to use MongoDB without authentication.</p> <details class=info><summary>Fields 1 and 4</summary><p>Please refer <a href=#51-setting-up-bot-configjson-without-mongodb-authentication>above</a> for information on fields 1 and 4, as they are the same no matter if authentication is enabled or disabled.</p> </details> <ol> <li>N/A</li> <li><code>Enter the MongoDB URL (i.e. mongodb://localhost:[port]):</code><ul> <li>When using authentication, this field cannot be left empty. At the bare minimum, you must enter <code>mongodb://bulletbot:[bulletbot MongoDB password]@localhost:[port]</code>. More can be added to the URL, but what is shown is the bare minimum for what the suffix can be.</li> <li>Replace <code>[bulletbot MongoDB password]</code> with a password that you'll be giving the bulletbot user when setting up <a href=#adding-authentication>MongoDB Authentication</a>.</li> <li>Replace <code>[port]</code> with the port number that MongoDB/mongod.service will be using (default port is <code>27017</code>).<ul> <li>Please note that if you are using a firewall, you'll need to allow incoming traffic through the port that <code>mongod.service</code> will use.</li> </ul> </li> <li>If you plan on doing some advanced things with MongoDB, use <a href=https://docs.mongodb.com/manual/reference/connection-string/ >this link</a> to help you properly configure the URL.</li> </ul> </li> <li><code>Enter the MongoDB URL suffix (i.e. ?authSource=admin):</code><ul> <li>Similar to field 2, this field cannot be left empty. At the bare minimum, you must enter <code>?authSource=admin</code>. More can be added to the suffix, but what is shown is the bare minimum for what the suffix can be.</li> </ul> </li> <li>N/A</li> </ol> <p>Here is an example of what it might look like: <img alt="BulletBot Config File Setup With Authentication" src=../../../media/BulletBot-Config-Setup-With-Authentication.png></p> <h4 id=53-webhooks>5.3 Webhooks<a class=headerlink href=#53-webhooks title="Permanent link">&para;</a></h4> <p>By default, webhooks run on port 8000. So if you have a firewall running, make sure that you open port 8000. Please note that if your public IP Address is not static, it will not be possible to use webhooks.</p> <h2 id=setting-up-mongodb>Setting Up MongoDB<a class=headerlink href=#setting-up-mongodb title="Permanent link">&para;</a></h2> <p>At this point, MongoDB should already be installed, enabled, and running. Below are instructions on how to change the default port MongoDB uses (optional), add the MongoDB settings document (required), and set up MongoDB Authentication (optional).</p> <h3 id=changing-mongodbs-default-port>Changing MongoDB's Default Port<a class=headerlink href=#changing-mongodbs-default-port title="Permanent link">&para;</a></h3> <p>MongoDB uses port <code>27017</code> by default. If you want to change what port MongoDB runs on, you will need to modify its config file.</p> <p>Follow the instructions below to change the port MongoDB runs on:</p> <ol> <li>Open <code>/etc/mongod.conf</code> with root privilege, using your favorite editor.</li> <li>Navigate to the line containing something similar to <code>port: 27017</code></li> <li>Replace <code>27017</code> with the port number that you would like MongoDB to run on.</li> <li>Save and exit the file.</li> <li>Restart mongod.service: <code>sudo systemctl restart mongod</code></li> </ol> <h3 id=adding-the-mongodb-settings-document>Adding the MongoDB Settings Document<a class=headerlink href=#adding-the-mongodb-settings-document title="Permanent link">&para;</a></h3> <p>BulletBot needs a settings document placed in the database to work. This document is similar to <code>bot-config.json</code>, but whereas the JSON file requires BulletBot to be a restart for any changes to be applied, changes to the settings document take immediate effect.</p> <p>Before adding the document, make sure to add your Discord user ID to the <code>botMasters</code> field. The ID should be a long string of numbers similar to <code>516213540576277819</code>.</p> <p>Follow the instructions below to add the settings document to the MongoDB database:</p> <ol> <li>Open the mongo shell: <code>mongo --port [port]</code></li> <li>Switch to the <code>settings</code> collection: <code>use settings</code></li> <li> <p>Insert the following document:</p> <div class=codehilite><pre><span></span><code><span class=err>db.settings.insert(</span>
<span class=p>{</span>
    <span class=nt>&quot;prefix&quot;</span><span class=p>:</span> <span class=s2>&quot;?!&quot;</span><span class=p>,</span>
    <span class=nt>&quot;presence&quot;</span><span class=p>:</span> <span class=p>{</span>
        <span class=nt>&quot;status&quot;</span><span class=p>:</span><span class=s2>&quot;online&quot;</span><span class=p>,</span>
        <span class=nt>&quot;game&quot;</span><span class=p>:</span> <span class=p>{</span>
            <span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=s2>&quot;?!help&quot;</span><span class=p>,</span>
            <span class=nt>&quot;type&quot;</span><span class=p>:</span><span class=s2>&quot;Playing&quot;</span>
        <span class=p>}</span>
    <span class=p>},</span>
    <span class=nt>&quot;embedColors&quot;</span><span class=p>:</span> <span class=p>{</span>
        <span class=nt>&quot;default&quot;</span><span class=p>:</span> <span class=mi>8311585</span><span class=p>,</span>
        <span class=nt>&quot;help&quot;</span><span class=p>:</span> <span class=mi>8311585</span><span class=p>,</span>
        <span class=nt>&quot;neutral&quot;</span><span class=p>:</span> <span class=mi>4868682</span><span class=p>,</span>
        <span class=nt>&quot;negative&quot;</span><span class=p>:</span> <span class=mi>15805477</span><span class=p>,</span>
        <span class=nt>&quot;warn&quot;</span><span class=p>:</span> <span class=mi>16086051</span><span class=p>,</span>
        <span class=nt>&quot;positive&quot;</span><span class=p>:</span> <span class=mi>8311585</span>
    <span class=p>},</span>
    <span class=nt>&quot;botMasters&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;[user ID of bot masters]&quot;</span><span class=p>],</span>
    <span class=nt>&quot;commands&quot;</span><span class=p>:</span> <span class=p>{</span>
        <span class=nt>&quot;animal&quot;</span><span class=p>:</span> <span class=p>{</span>
            <span class=nt>&quot;apis&quot;</span><span class=p>:</span> <span class=p>{</span>
                <span class=nt>&quot;cat&quot;</span><span class=p>:</span> <span class=s2>&quot;https://some-random-api.ml/img/cat&quot;</span><span class=p>,</span>
                <span class=nt>&quot;dog&quot;</span><span class=p>:</span> <span class=s2>&quot;https://some-random-api.ml/img/dog&quot;</span><span class=p>,</span>
                <span class=nt>&quot;fox&quot;</span><span class=p>:</span> <span class=s2>&quot;https://some-random-api.ml/img/fox&quot;</span><span class=p>,</span>
                <span class=nt>&quot;panda&quot;</span><span class=p>:</span> <span class=s2>&quot;https://some-random-api.ml/img/panda&quot;</span><span class=p>,</span>
                <span class=nt>&quot;red-panda&quot;</span><span class=p>:</span> <span class=s2>&quot;https://some-random-api.ml/img/red_panda&quot;</span><span class=p>,</span>
                <span class=nt>&quot;bird&quot;</span><span class=p>:</span> <span class=s2>&quot;https://some-random-api.ml/img/birb&quot;</span><span class=p>,</span>
                <span class=nt>&quot;pikachu&quot;</span><span class=p>:</span> <span class=s2>&quot;https://some-random-api.ml/pikachuimg&quot;</span>
            <span class=p>}</span>
        <span class=p>},</span>
        <span class=nt>&quot;purge&quot;</span><span class=p>:</span> <span class=p>{</span>
            <span class=nt>&quot;maxMessages&quot;</span><span class=p>:</span> <span class=mi>1000</span>
        <span class=p>}</span>
    <span class=p>}</span>
<span class=p>}</span>
<span class=err>)</span>
</code></pre></div> <ul> <li>Something similar to <code>WriteResult({ "nInserted" : 1 })</code> will be printed to the screen if the settings were successfully added to the database.</li> </ul> </li> <li> <p>Exit the mongo shell: <code>exit</code></p> </li> </ol> <h3 id=adding-authentication>Adding Authentication<a class=headerlink href=#adding-authentication title="Permanent link">&para;</a></h3> <p>Enabling authentication causes MongoDB to require all users who connect to the database to authenticate/login to an existing user in the database. It is highly recommended that you enable this feature so that the cluster is secure and so that you can remotely access it, for example, with <a href=https://www.mongodb.com/products/compass>MongoDB Compass</a>.</p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>For instructions on how to use/setup MongoDB Compass, follow <a href=../../../Helpful-Guides/MongoDB-Compass/ >this guide</a>.</p> </div> <p>Follow the instructions below to enable authentication. Make sure to replace <code>[admin password]</code> with a password you'll remember, and <code>[bulletbot password]</code> with the password you used when setting up BulletBot's config file.</p> <ol> <li>Open mongo shell: <code>mongo --port [port]</code></li> <li>Switch to the <code>admin</code> database, which stores all users: <code>use admin</code></li> <li> <p>Create an admin user:</p> <div class=codehilite><pre><span></span><code><span class=err>db.createUser(</span>
<span class=p>{</span>
    <span class=err>user:</span> <span class=nt>&quot;admin&quot;</span><span class=p>,</span>
    <span class=err>pwd:</span> <span class=nt>&quot;[admin password]&quot;</span><span class=p>,</span>
    <span class=err>roles:</span> <span class=err>[</span>
        <span class=err>{</span>
            <span class=nt>&quot;role&quot;</span> <span class=p>:</span> <span class=s2>&quot;userAdminAnyDatabase&quot;</span><span class=p>,</span>
            <span class=nt>&quot;db&quot;</span> <span class=p>:</span> <span class=s2>&quot;admin&quot;</span>
        <span class=p>}</span><span class=err>,</span>
        <span class=p>{</span>
            <span class=nt>&quot;role&quot;</span> <span class=p>:</span> <span class=s2>&quot;readWriteAnyDatabase&quot;</span><span class=p>,</span>
            <span class=nt>&quot;db&quot;</span> <span class=p>:</span> <span class=s2>&quot;admin&quot;</span>
        <span class=p>}</span><span class=err>,</span>
        <span class=p>{</span>
            <span class=nt>&quot;role&quot;</span> <span class=p>:</span> <span class=s2>&quot;clusterAdmin&quot;</span><span class=p>,</span>
            <span class=nt>&quot;db&quot;</span> <span class=p>:</span> <span class=s2>&quot;admin&quot;</span>
        <span class=p>}</span>
    <span class=err>]</span>
<span class=err>}</span>
<span class=err>)</span>
</code></pre></div> </li> <li> <p>Create a user for BulletBot:</p> <div class=codehilite><pre><span></span><code><span class=err>db.createUser(</span>
<span class=p>{</span>
    <span class=err>user:</span> <span class=nt>&quot;bulletbot&quot;</span><span class=p>,</span>
    <span class=err>pwd:</span> <span class=nt>&quot;[bulletbot password]&quot;</span><span class=p>,</span>
    <span class=err>roles:</span> <span class=err>[</span>
        <span class=err>{</span>
            <span class=nt>&quot;role&quot;</span> <span class=p>:</span> <span class=s2>&quot;readWrite&quot;</span><span class=p>,</span>
            <span class=nt>&quot;db&quot;</span> <span class=p>:</span> <span class=s2>&quot;main&quot;</span>
        <span class=p>}</span><span class=err>,</span>
        <span class=p>{</span>
            <span class=nt>&quot;role&quot;</span> <span class=p>:</span> <span class=s2>&quot;readWrite&quot;</span><span class=p>,</span>
            <span class=nt>&quot;db&quot;</span> <span class=p>:</span> <span class=s2>&quot;webhooks&quot;</span>
        <span class=p>}</span><span class=err>,</span>
        <span class=p>{</span>
            <span class=nt>&quot;role&quot;</span> <span class=p>:</span> <span class=s2>&quot;readWrite&quot;</span><span class=p>,</span>
            <span class=nt>&quot;db&quot;</span> <span class=p>:</span> <span class=s2>&quot;mStats&quot;</span>
        <span class=p>}</span><span class=err>,</span>
        <span class=p>{</span>
            <span class=nt>&quot;role&quot;</span> <span class=p>:</span> <span class=s2>&quot;read&quot;</span><span class=p>,</span>
            <span class=nt>&quot;db&quot;</span> <span class=p>:</span> <span class=s2>&quot;settings&quot;</span>
        <span class=p>}</span>
    <span class=err>]</span>
<span class=err>}</span>
<span class=err>)</span>
</code></pre></div> </li> <li> <p>Check if both users were added with <code>db.getUsers()</code>. The output should look like this:</p> <div class=codehilite><pre><span></span><code><span class=p>[</span>
        <span class=p>{</span>
            <span class=nt>&quot;_id&quot;</span> <span class=p>:</span> <span class=s2>&quot;admin.admin&quot;</span><span class=p>,</span>
            <span class=nt>&quot;userId&quot;</span> <span class=p>:</span> <span class=err>UUID(</span><span class=s2>&quot;[some id]&quot;</span><span class=err>)</span><span class=p>,</span>
            <span class=nt>&quot;user&quot;</span> <span class=p>:</span> <span class=s2>&quot;admin&quot;</span><span class=p>,</span>
            <span class=nt>&quot;db&quot;</span> <span class=p>:</span> <span class=s2>&quot;admin&quot;</span><span class=p>,</span>
            <span class=nt>&quot;roles&quot;</span> <span class=p>:</span> <span class=p>[</span>
                    <span class=p>{</span>
                        <span class=nt>&quot;role&quot;</span> <span class=p>:</span> <span class=s2>&quot;userAdminAnyDatabase&quot;</span><span class=p>,</span>
                        <span class=nt>&quot;db&quot;</span> <span class=p>:</span> <span class=s2>&quot;admin&quot;</span>
                    <span class=p>},</span>
                    <span class=p>{</span>
                        <span class=nt>&quot;role&quot;</span> <span class=p>:</span> <span class=s2>&quot;readWriteAnyDatabase&quot;</span><span class=p>,</span>
                        <span class=nt>&quot;db&quot;</span> <span class=p>:</span> <span class=s2>&quot;admin&quot;</span>
                    <span class=p>},</span>
                    <span class=p>{</span>
                        <span class=nt>&quot;role&quot;</span> <span class=p>:</span> <span class=s2>&quot;clusterAdmin&quot;</span><span class=p>,</span>
                        <span class=nt>&quot;db&quot;</span> <span class=p>:</span> <span class=s2>&quot;admin&quot;</span>
                    <span class=p>}</span>
            <span class=p>],</span>
            <span class=nt>&quot;mechanisms&quot;</span> <span class=p>:</span> <span class=p>[</span>
                    <span class=s2>&quot;SCRAM-SHA-1&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;SCRAM-SHA-256&quot;</span>
            <span class=p>]</span>
        <span class=p>},</span>
        <span class=p>{</span>
            <span class=nt>&quot;_id&quot;</span> <span class=p>:</span> <span class=s2>&quot;admin.bulletbot&quot;</span><span class=p>,</span>
            <span class=nt>&quot;userId&quot;</span> <span class=p>:</span> <span class=err>UUID(</span><span class=s2>&quot;[some id]&quot;</span><span class=err>)</span><span class=p>,</span>
            <span class=nt>&quot;user&quot;</span> <span class=p>:</span> <span class=s2>&quot;bulletbot&quot;</span><span class=p>,</span>
            <span class=nt>&quot;db&quot;</span> <span class=p>:</span> <span class=s2>&quot;admin&quot;</span><span class=p>,</span>
            <span class=nt>&quot;roles&quot;</span> <span class=p>:</span> <span class=p>[</span>
                    <span class=p>{</span>
                        <span class=nt>&quot;role&quot;</span> <span class=p>:</span> <span class=s2>&quot;readWrite&quot;</span><span class=p>,</span>
                        <span class=nt>&quot;db&quot;</span> <span class=p>:</span> <span class=s2>&quot;main&quot;</span>
                    <span class=p>},</span>
                    <span class=p>{</span>
                        <span class=nt>&quot;role&quot;</span> <span class=p>:</span> <span class=s2>&quot;readWrite&quot;</span><span class=p>,</span>
                        <span class=nt>&quot;db&quot;</span> <span class=p>:</span> <span class=s2>&quot;webhooks&quot;</span>
                    <span class=p>},</span>
                    <span class=p>{</span>
                        <span class=nt>&quot;role&quot;</span> <span class=p>:</span> <span class=s2>&quot;readWrite&quot;</span><span class=p>,</span>
                        <span class=nt>&quot;db&quot;</span> <span class=p>:</span> <span class=s2>&quot;mStats&quot;</span>
                    <span class=p>},</span>
                    <span class=p>{</span>
                        <span class=nt>&quot;role&quot;</span> <span class=p>:</span> <span class=s2>&quot;read&quot;</span><span class=p>,</span>
                        <span class=nt>&quot;db&quot;</span> <span class=p>:</span> <span class=s2>&quot;settings&quot;</span>
                    <span class=p>}</span>
            <span class=p>],</span>
            <span class=nt>&quot;mechanisms&quot;</span> <span class=p>:</span> <span class=p>[</span>
                    <span class=s2>&quot;SCRAM-SHA-1&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;SCRAM-SHA-256&quot;</span>
            <span class=p>]</span>
        <span class=p>}</span>
<span class=p>]</span>
</code></pre></div> </li> <li> <p>Exit the mongo shell: <code>exit</code></p> </li> <li> <p>If you have the cluster running with <a href=https://docs.mongodb.com/manual/replication/ >replication</a> enabled, you will have to add a key file. To do this, do the following:</p> <div class=codehilite><pre><span></span><code>openssl rand -base64 <span class=m>756</span> &gt; <span class=o>[</span>path to key file<span class=o>]</span>
chmod <span class=m>400</span> <span class=o>[</span>path to key file<span class=o>]</span>
chown mongodb:root <span class=o>[</span>path to key file<span class=o>]</span>
</code></pre></div> <p>It's recommended that the key file is placed in the same directory as the <code>mongod.conf</code> file (default at <code>/etc/mongod.conf</code>) and is named <code>mongod.key</code>. You will also have to copy the key file to the other servers and repeat the <code>chmod</code> and <code>chown</code> command.</p> </li> <li> <p>Open <code>/etc/mongod.conf</code> with root privilege, using your favorite editor, and add the following:</p> <div class=codehilite><pre><span></span><code><span class=nt>security</span><span class=p>:</span>
    <span class=nt>authorization</span><span class=p>:</span> <span class=s>&quot;enabled&quot;</span>
    <span class=nt>keyFile</span><span class=p>:</span> <span class=s>&quot;[path</span><span class=nv> </span><span class=s>to</span><span class=nv> </span><span class=s>key</span><span class=nv> </span><span class=s>file]&quot;</span> <span class=c1>## (only add this line when replication is enabled)</span>
</code></pre></div> <p>If there is already a <code>security</code> property, just append the <code>authorization</code> property to it or change it to enabled. If replication is enabled, you will have to change the same stuff in the other config files on the other servers.</p> </li> <li> <p>Restart mongod.service: <code>sudo systemctl restart mongod</code></p> </li> </ol> <div class="admonition note"> <p class=admonition-title>Note</p> <p>In this guide, we only add the <code>admin</code> and <code>bulletbot</code> users. If you want, you can add other users to it, which shouldn't affect the bot.</p> </div> <h2 id=running-bulletbot>Running BulletBot<a class=headerlink href=#running-bulletbot title="Permanent link">&para;</a></h2> <p><img alt="Run Modes 1" src=../../../media/Run-Modes-1.png> <img alt="Run Modes 2" src=../../../media/Run-Modes-2.png></p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>A more in-depth look at the run modes can be read in the <a href=../../../In-Depth-Explanations/#running-bulletbot>In-Depth Explanations</a> wiki.</p> </div> <h3 id=run-modes>Run Modes<a class=headerlink href=#run-modes title="Permanent link">&para;</a></h3> <p>BulletBot can be run in two different modes:</p> <ul> <li>Run BulletBot in the background</li> <li>This mode runs BulletBot in the background of the system. If the system is rebooted, BulletBot will NOT be started on system reboot.</li> <li>Run BulletBot in the background with auto-restart</li> <li>This mode runs BulletBot in the background of the system. Though unlike the first run mode, if the system is rebooted, BulletBot will automatically be started.<ul> <li>The startup process for this run mode, at minimum, takes 1 minute and 20 seconds from the system reboot.</li> </ul> </li> </ul> <h3 id=checking-bulletbot-run-status>Checking BulletBot Run Status<a class=headerlink href=#checking-bulletbot-run-status title="Permanent link">&para;</a></h3> <p>When the installers display BulletBot's run modes, it will also indicate whether a specific run mode is "Setup to use" or is "Running" in that mode.</p> <p>When it displays:</p> <ul> <li><img alt="Run Status 1" src=../../../media/Running-Status-1.png><ul> <li><code>bullet-mongo-start.service</code> exists and is either enabled or disabled (which determines which mode BulletBot runs in), but BulletBot is not currently running.</li> </ul> </li> <li><img alt="Run Status 2" src=../../../media/Running-Status-2.png><ul> <li>BulletBot is currently running in [run mode].</li> <li>Note: Choosing the option/run mode that this is displayed on, will cause bulletbot to restart in that same run mode.</li> </ul> </li> </ul> <h2 id=updating-bulletbot>Updating BulletBot<a class=headerlink href=#updating-bulletbot title="Permanent link">&para;</a></h2> <p>You can use the same option that starts BulletBot, to update him.</p> <p>To update BulletBot, do the following:</p> <ol> <li>Execute the master installer: <code>sudo bash /home/bulletbot/linux-master-installer.sh</code></li> <li>Choose option <code>1</code> in the installer menu.</li> <li>Follow the instructions displayed on your screen.</li> </ol> <div class=highlight><pre><span></span><code>1. Download/update BulletBot  &lt;-- [This option updates BulletBot]
2. Run BulletBot in the background
3. Run BulletBot in the background with auto-restart (Running in this mode)
4. Stop BulletBot
5. Create new/update BulletBot config file
6. Stop and exit script
</code></pre></div> <div class="admonition info"> <p class=admonition-title>Info</p> <p>For a more in-depth look on how BulletBot is updated, can be read in the <a href=../../../In-Depth-Explanations/#downloading-and-updating-bulletbot>In-Depth Explanations</a> wiki.</p> </div> <h2 id=other-information>Other Information<a class=headerlink href=#other-information title="Permanent link">&para;</a></h2> <p>When BulletBot is running in the background with auto-restart, the installers can send a report via postfix/sendmail on BulletBot's startup status. The report lists whether or not BulletBot was successfully started, the exit status of essential services, and the startup logs of three services that can be used to help identify errors that might have occurred during BulletBot's startup. To learn how to set up this feature, follow <a href=../../../Helpful-Guides/BulletBot-Startup-Status-Reports/ >this guide</a>.</p> <hr> <div class=md-source-date> <small> Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">September 9, 2020</span> </small> </div> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../../../License/ class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> License </div> </div> </a> <a href=../../Development/Linux-Dev-Setup-Guide/ class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Next </span> Linux </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-footer-social> <a href=https://discord.gg/74py7yd target=_blank rel=noopener title=discord.gg class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M297.216 243.2c0 15.616-11.52 28.416-26.112 28.416-14.336 0-26.112-12.8-26.112-28.416s11.52-28.416 26.112-28.416c14.592 0 26.112 12.8 26.112 28.416zm-119.552-28.416c-14.592 0-26.112 12.8-26.112 28.416s11.776 28.416 26.112 28.416c14.592 0 26.112-12.8 26.112-28.416.256-15.616-11.52-28.416-26.112-28.416zM448 52.736V512c-64.494-56.994-43.868-38.128-118.784-107.776l13.568 47.36H52.48C23.552 451.584 0 428.032 0 398.848V52.736C0 23.552 23.552 0 52.48 0h343.04C424.448 0 448 23.552 448 52.736zm-72.96 242.688c0-82.432-36.864-149.248-36.864-149.248-36.864-27.648-71.936-26.88-71.936-26.88l-3.584 4.096c43.52 13.312 63.744 32.512 63.744 32.512-60.811-33.329-132.244-33.335-191.232-7.424-9.472 4.352-15.104 7.424-15.104 7.424s21.248-20.224 67.328-33.536l-2.56-3.072s-35.072-.768-71.936 26.88c0 0-36.864 66.816-36.864 149.248 0 0 21.504 37.12 78.08 38.912 0 0 9.472-11.52 17.152-21.248-32.512-9.728-44.8-30.208-44.8-30.208 3.766 2.636 9.976 6.053 10.496 6.4 43.21 24.198 104.588 32.126 159.744 8.96 8.96-3.328 18.944-8.192 29.44-15.104 0 0-12.8 20.992-46.336 30.464 7.68 9.728 16.896 20.736 16.896 20.736 56.576-1.792 78.336-38.912 78.336-38.912z"/></svg> </a> <a href=https://github.com/CodeBullet-Community/BulletBot target=_blank rel=noopener title=github.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> </div> </div> </div> </footer> </div> <script src=../../../assets/javascripts/vendor.93c04032.min.js></script> <script src=../../../assets/javascripts/bundle.83e5331e.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script> <script>
        app = initialize({
          base: "../../..",
          features: ['instant', 'tabs'],
          search: Object.assign({
            worker: "../../../assets/javascripts/worker/search.8c7e0a7e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>